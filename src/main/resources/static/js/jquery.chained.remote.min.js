!function(e,t,n,a){"use strict";e.fn.remoteChained=function(t){var n=e.extend({},e.fn.remoteChained.defaults,t);return n.loading&&(n.clear=!0),this.each(function(){function t(t){var n=e(":selected",a).val();e("option",a).remove(),e.isArray(t)?e.each(t,function(t,i){e.each(i,function(t,i){if("selected"===t)n=i;else{var o=e("<option />").val(t).append(i);e(a).append(o)}})}):e.each(t,function(i,o){if(t.hasOwnProperty(i))if("selected"===i)n=o;else{var r=e("<option />").val(i).append(o);e(a).append(r)}}),e(a).children().each(function(){e(this).val()===n+""&&e(this).attr("selected","selected")}),1===e("option",a).length&&""===e(a).val()?e(a).prop("disabled",!0):e(a).prop("disabled",!1)}var a=this,i=!1;e(n.parents).each(function(){e(this).bind("change",function(){var o={};e(n.parents).each(function(){var t=e(this).attr(n.attribute),i=(e(this).is("select")?e(":selected",this):e(this)).val();o[t]=i,n.depends&&e(n.depends).each(function(){if(a!==this){var t=e(this).attr(n.attribute),i=e(this).val();o[t]=i}})}),i&&e.isFunction(i.abort)&&(i.abort(),i=!1),n.clear&&(n.loading?t.call(a,{"":n.loading}):e("option",a).remove(),e(a).trigger("change")),i=e.getJSON(n.url,o,function(i){i=n.data(i),t.call(a,i),e(a).trigger("change")})}),n.bootstrap&&(t.call(a,n.bootstrap),n.bootstrap=null)})})},e.fn.remoteChainedTo=e.fn.remoteChained,e.fn.remoteChained.defaults={attribute:"name",depends:null,bootstrap:null,loading:null,clear:!1,data:function(e){return e}}}(window.jQuery||window.Zepto,window,document);